
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.StringTokenizer;

public class Main {

	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); 
		int n = Integer.parseInt(br.readLine());
		info[] list = new info[n];
		StringTokenizer st;
		
		
	
		//[i][0] = 국어 , [i][1] = eng, [i][2] = math
		for(int i=0;i<n;i++) {
			st = new StringTokenizer(br.readLine());
			info info = new info();
			info.name = st.nextToken();
			info.g = Integer.parseInt(st.nextToken());
			info.eng = Integer.parseInt(st.nextToken());
			info.math = Integer.parseInt(st.nextToken());
			
			list[i] = info;
		}
		
		Arrays.sort(list,new iComparator());
		
		
		for(info i : list) {
			System.out.println(i.name);
		}
	}
	
	public  static class info{
		String name;
		int eng;
		int math;
		int g;
	}
	
	//국어는 내림차순, 영어를 올림차순 

	
	public static class iComparator implements Comparator<info>{
		
		
		
		@Override
		public int compare(info o1, info o2) {
			int g1 = o1.g;
			int g2 = o2.g;
			
			if(g2 > g1) return 1;
			else if(g2 < g1) return -1;
			
			return engCompare(o1,o2);
		
			}
		public int engCompare(info o1,info o2) {
			int eng1 = o1.eng;
			int eng2 = o2.eng;
			if(eng1> eng2) return 1;
			else if(eng1< eng2) return -1;
			else {
//				System.out.println("eng score "+o1.eng+","+o2.eng);
//				System.out.println(o1.name+" vs "+o2.name);
				return mathCompare(o1,o2);
			}
			
		}
		
		public int mathCompare(info o1,info o2) {
			int math1 = o1.math;
			int math2 = o2.math;
			
			if(math2> math1) return 1;
			else if(math2< math1) return -1;
			//	System.out.println("math score is equal "+o1.math+","+o2.math);
			
				return o1.name.compareTo(o2.name);
			
		}
		
		
		

	}

}
